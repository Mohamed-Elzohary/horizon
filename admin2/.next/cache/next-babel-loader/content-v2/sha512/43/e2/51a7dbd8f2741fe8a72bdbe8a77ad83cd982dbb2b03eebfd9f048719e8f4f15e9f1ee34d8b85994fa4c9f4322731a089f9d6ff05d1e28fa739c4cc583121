{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport classNames from 'classnames';\nimport Link from 'components/common/Link';\nimport Table from 'components/common/Table';\nimport Button from 'components/common/Button';\nimport PageHeader from 'components/layout/PageHeader';\nimport Modal from 'components/common/Modal';\nimport SectionEditForm from 'components/forms/SectionEditForm';\nimport DeleteForm from 'components/forms/DeleteForm';\nimport EmptyPlaceholder from 'components/common/EmptyPlaceholder';\nimport ButtonLayout from 'components/layout/ButtonLayout';\nimport Toast from 'components/common/Toast';\nimport Pen from 'assets/pen.svg';\nimport Trash from 'assets/trash.svg';\nimport Plus from 'assets/plus.svg';\nimport styles from './CSections.module.css';\nexport default function CSections() {\n  const {\n    0: editSection,\n    1: setEditSection\n  } = useState();\n  const {\n    0: deleteSection,\n    1: setDeleteSection\n  } = useState();\n  const {\n    0: saved,\n    1: setSaved\n  } = useState(0);\n  const {\n    0: message,\n    1: setMessage\n  } = useState(); // const { data } = useFetch(`http://localhost:5000/api/getHeroData`, {}, [saved]);\n\n  const data = [{\n    name: 'Hero Section',\n    index: 0\n  }];\n\n  const Buttons = row => /*#__PURE__*/_jsxs(ButtonLayout, {\n    align: \"right\",\n    children: [/*#__PURE__*/_jsx(Button, {\n      icon: /*#__PURE__*/_jsx(Pen, {}),\n      size: \"small\",\n      onClick: () => setEditSection(row),\n      children: /*#__PURE__*/_jsx(FormattedMessage, {\n        id: \"label.edit\",\n        defaultMessage: \"Edit\"\n      })\n    }), /*#__PURE__*/_jsx(Button, {\n      icon: /*#__PURE__*/_jsx(Trash, {}),\n      size: \"small\",\n      onClick: () => setDeleteSection(row),\n      children: /*#__PURE__*/_jsx(FormattedMessage, {\n        id: \"label.delete\",\n        defaultMessage: \"Delete\"\n      })\n    })]\n  });\n\n  const columns = [{\n    key: 'name',\n    label: /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"label.name\",\n      defaultMessage: \"Name\"\n    }),\n    className: 'col-6 col-xl-4'\n  }, {\n    key: 'index',\n    label: /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"label.index\",\n      defaultMessage: \"index\"\n    }),\n    className: 'col-6 col-xl-4'\n  }, {\n    key: 'action',\n    className: classNames(styles.buttons, 'col-12 col-xl-4 pt-2 pt-xl-0'),\n    render: Buttons\n  }];\n\n  function handleSave() {\n    setSaved(state => state + 1);\n    setMessage( /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"message.save-success\",\n      defaultMessage: \"Saved successfully.\"\n    }));\n    handleClose();\n  }\n\n  function handleClose() {\n    setEditSection(null);\n    setDeleteSection(null);\n  }\n\n  if (!data) {\n    return null;\n  }\n\n  const empty = /*#__PURE__*/_jsx(EmptyPlaceholder, {\n    msg: /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"message.no-sections-configured\",\n      defaultMessage: \"You don't have any section.\"\n    }),\n    children: /*#__PURE__*/_jsx(Button, {\n      icon: /*#__PURE__*/_jsx(Plus, {}),\n      size: \"medium\",\n      onClick: () => setEditSection(true),\n      children: /*#__PURE__*/_jsx(FormattedMessage, {\n        id: \"label.edit-section\",\n        defaultMessage: \"Edit section\"\n      })\n    })\n  });\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(PageHeader, {\n      children: /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"label.sections\",\n          defaultMessage: \"Sections\"\n        })\n      })\n    }), /*#__PURE__*/_jsx(Table, {\n      columns: columns,\n      rows: data,\n      empty: empty\n    }), editSection && /*#__PURE__*/_jsx(Modal, {\n      title: /*#__PURE__*/_jsx(FormattedMessage, {\n        id: \"label.edit-section\",\n        defaultMessage: \"Edit section\"\n      }),\n      children: /*#__PURE__*/_jsx(SectionEditForm, {\n        values: editSection,\n        onSave: handleSave,\n        onClose: handleClose\n      })\n    }), deleteSection && /*#__PURE__*/_jsx(Modal, {\n      title: /*#__PURE__*/_jsx(FormattedMessage, {\n        id: \"label.delete-section\",\n        defaultMessage: \"Delete section\"\n      }),\n      children: /*#__PURE__*/_jsx(DeleteForm, {\n        values: {\n          type: 'section',\n          id: deleteSection.section_id,\n          name: deleteSection.name\n        },\n        onSave: handleSave,\n        onClose: handleClose\n      })\n    }), message && /*#__PURE__*/_jsx(Toast, {\n      message: message,\n      onClose: () => setMessage(null)\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}