{"ast":null,"code":"import { resetWebsite } from 'lib/queries';\nimport { methodNotAllowed, ok, unauthorized } from 'lib/response';\nimport { allowQuery } from 'lib/auth';\nexport default (async (req, res) => {\n  const {\n    id\n  } = req.query;\n  const websiteId = +id;\n\n  if (req.method === 'POST') {\n    if (!(await allowQuery(req))) {\n      return unauthorized(res);\n    }\n\n    await resetWebsite(websiteId);\n    return ok(res);\n  }\n\n  return methodNotAllowed(res);\n});","map":null,"metadata":{},"sourceType":"module"}