(this["webpackJsonphorizon-admin-portal"]=this["webpackJsonphorizon-admin-portal"]||[]).push([[17],{665:function(t,e,s){"use strict";var n=s(73),c=s(1),a=s(68),i=s(8),o=s(664),l=s.n(o),b=s(663),r=s.n(b),j=s(177),d=s(6);e.a=function(){var t=Object(c.useState)(null),e=Object(n.a)(t,2),s=e[0],o=e[1],b=Object(c.useState)(""),h=Object(n.a)(b,2),u=h[0],O=h[1],m=Object(c.useState)(0),x=Object(n.a)(m,2),g=x[0],p=x[1],f=Object(c.useState)("false"),v=Object(n.a)(f,2),C=v[0],y=v[1],S=Object(c.useState)(!0),D=Object(n.a)(S,2),w=D[0],U=D[1],T=Object(c.useState)("false"),k=Object(n.a)(T,2),I=k[0],N=k[1],E=Object(c.useState)(!1),L=Object(n.a)(E,2),M=L[0],z=L[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)(i.f,{className:"btn-primary",onClick:function(){z(!M)},children:"Upload Image"}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)(i.o,{show:M,children:Object(d.jsx)(i.g,{className:"mt-3",children:Object(d.jsxs)(i.h,{children:[Object(d.jsxs)(i.g,{style:{width:"50vw"},children:["true"===C?Object(d.jsxs)("div",{children:[Object(d.jsxs)(i.a,{width:"1",color:"success",children:[Object(d.jsx)("strong",{children:"Uploaded"})," Successfully..."]}),Object(d.jsx)(r.a,{duration:3e3,children:"Uploaded Successfully..."})]}):Object(d.jsx)("p",{}),Object(d.jsxs)(i.h,{children:[Object(d.jsx)(i.m,{children:"Upload Image"}),Object(d.jsxs)(i.N,{children:[Object(d.jsx)(i.T,{className:"mb-3",children:Object(d.jsx)(i.U,{value:g})}),Object(d.jsx)("progress",{value:g,max:"100"})]}),Object(d.jsxs)(i.N,{children:[Object(d.jsx)("input",{type:"file",onChange:function(t){t.target.files[0]&&(o(t.target.files[0]),U(!1))}}),Object(d.jsx)(i.f,{color:"secondary",onClick:function(){var t=new Date,e=t.getDate(),n=t.getMonth()+1,c=t.getFullYear(),i=(new Date).getTime();"".concat(e).concat(n).concat(c,"T").concat(i);y("false"),a.b.ref("images/".concat(s.name)).put(s).on("state_changed",(function(t){var e=Math.round(t.bytesTransferred/t.totalBytes*100);p(e)}),(function(t){console.log(t)}),(function(){a.b.ref("images").child(s.name).getDownloadURL().then((function(t){O(t),console.log("image: ",s),console.log("URL: "+t);var e={url:t};l.a.post("".concat(j.a,"/api/postImgToGallery"),e).then((function(t){return console.log(t)})),y("true"),U(!0)}))}))},disabled:w,children:"Upload"}),Object(d.jsxs)(i.l,{children:[Object(d.jsx)("strong",{children:" Image URL: "}),u]})]}),Object(d.jsxs)(i.N,{children:["true"===I?Object(d.jsx)("div",{children:Object(d.jsx)(r.a,{duration:2e3,children:"Copied To Clipboard..."})}):Object(d.jsx)("p",{}),Object(d.jsx)(i.f,{color:"secondary",onClick:function(){N("false"),navigator.clipboard.writeText(u),console.log(u),N("true")},children:"Copy Image URL to Clipboard"})]})]})]}),Object(d.jsx)("img",{className:"uploadedImg",src:u||"http://via.placeholder.com/300",alt:"firebase-image"})]})})})]})}},784:function(t,e){},807:function(t,e,s){"use strict";s.r(e);var n=s(183),c=s(178),a=s(179),i=s(182),o=s(181),l=s(180),b=s(1),r=s(8),j=s(744),d=s(748),h=s.n(d),u=s(759),O=s.n(u),m=s(665),x=s(664),g=s.n(x),p=s(663),f=s.n(p),v=s(177),C=s(6),y=function(t){Object(o.a)(s,t);var e=Object(l.a)(s);function s(t){var n;return Object(c.a)(this,s),(n=e.call(this,t)).state={visible:!1,activeKey:0,edited:!1,submitClass:"disabled",submitDisable:!0,image:"...",url:"...",progress:"...",title:"...",content:"..."},n.onChange=n.onChange.bind(Object(i.a)(n)),n.onChangeEditor=n.onChangeEditor.bind(Object(i.a)(n)),n.onSubmit=n.onSubmit.bind(Object(i.a)(n)),n}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var t=this;g.a.get("".concat(v.a,"/api/getAboutData")).then((function(e){var s=e.data.content;t.setState({content:s})})).catch((function(t){console.log(t)}))}},{key:"onChange",value:function(t){var e,s=t.target.value;this.setState((e={},Object(n.a)(e,t.target.name,s),Object(n.a)(e,"submitClass","primary"),Object(n.a)(e,"submitDisable",!1),Object(n.a)(e,"edited",!1),e))}},{key:"onChangeEditor",value:function(t,e){var s=e.getData();this.setState({content:s,submitClass:"primary",submitDisable:!1,edited:!1})}},{key:"onSubmit",value:function(t){t.preventDefault();var e={content:this.state.content};g.a.post("".concat(v.a,"/api/postAboutData"),e),this.setState({edited:!0,submitClass:"disabled",submitDisable:!0})}},{key:"render",value:function(){return Object(C.jsxs)(r.V,{children:[!0===this.state.edited?Object(C.jsxs)("div",{children:[Object(C.jsx)(f.a,{duration:3e3}),Object(C.jsx)(r.hb,{children:Object(C.jsx)(r.gb,{show:!0,autohide:1e3,fade:!0,header:"CToast fixed component",children:Object(C.jsxs)(r.a,{width:"1",color:"success",dismissible:"".concat(!0),children:[Object(C.jsx)("strong",{children:"Updated"})," Successfully..."]})},this.state.fixedToasts)})]}):Object(C.jsx)("p",{}),Object(C.jsxs)(r.n,{xs:"12",children:[Object(C.jsx)(j.CKEditor,{name:"body",placeholder:"About Page",content:this.state.content,editor:h.a,data:this.state.content,contentsCss:"/css/mysitestyles.css",onChange:this.onChangeEditor}),Object(C.jsx)(j.CKEditor,{name:"body",placeholder:"About Page",content:this.state.content,editor:h.a,data:this.state.content,contentsCss:"/css/mysitestyles.css",onChange:this.onChangeEditor}),Object(C.jsx)("hr",{}),Object(C.jsxs)(r.y,{onSubmit:this.onSubmit,children:[Object(C.jsx)(r.z,{children:Object(C.jsx)(r.fb,{type:"text",id:"content",name:"content",placeholder:"content",value:this.state.content,onChange:this.onChange})}),Object(C.jsx)(r.L,{children:"Content: "}),Object(C.jsx)(r.g,{dangerouslySetInnerHTML:{__html:this.state.content}}),Object(C.jsx)(r.g,{children:O()(this.state.content)}),Object(C.jsx)("hr",{}),Object(C.jsx)("br",{}),Object(C.jsx)(r.z,{children:Object(C.jsx)(r.H,{type:"submit",id:"submit",name:"submit",placeholder:"submit",className:"bg-".concat(this.state.submitClass," text-white bold"),value:"SUBMIT",disabled:this.state.submitDisable})})]})]}),Object(C.jsx)(m.a,{})]})}}]),s}(b.Component);e.default=y}}]);
//# sourceMappingURL=17.45a74af8.chunk.js.map